(this["webpackJsonpspace-fighter"]=this["webpackJsonpspace-fighter"]||[]).push([[0],{50:function(e,t,n){},55:function(e,t,n){},58:function(e,t,n){"use strict";n.r(t);var r=n(7),c=n(1),i=n.n(c),a=n(25),o=n.n(a),s=(n(50),n(12)),j=function(){var e=Object(s.e)(),t=e.camera,n=e.gl.domElement,i=Object(c.useRef)();return Object(s.c)((function(){var e=i.current;e&&e.update()})),Object(r.jsx)("orbitControls",{ref:i,args:[t,n],enableZoom:!1,maxAzimuthAngle:Math.PI/4,maxPolarAngle:Math.PI,minAzimuthAngle:-Math.PI/4,minPolarAngle:0})},u=n(0);var l=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=(new u.TextureLoader).load("target.png");return Object(s.c)((function(n){var r=n.mouse;e.current.position.y=10*-r.y,e.current.position.x=30*-r.x,t.current.position.y=20*-r.y,t.current.position.x=60*-r.x})),Object(r.jsxs)("group",{children:[Object(r.jsx)("sprite",{position:[0,0,-8],ref:e,children:Object(r.jsx)("spriteMaterial",{attach:"material",map:n})}),Object(r.jsx)("sprite",{position:[0,0,-16],ref:t,children:Object(r.jsx)("spriteMaterial",{attach:"material",map:n})})]})};var b=function(){return Object(r.jsxs)("mesh",{visible:!0,position:[0,0,0],rotation:[0,0,0],children:[Object(r.jsx)("sphereGeometry",{attach:"geometry",args:[1,16,16]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"white",transparent:!0,opacity:.6,roughness:1,metalness:0})]})},O=n(3),x=n(11),h=n(39),f=Object(x.b)({key:"shipPosition",default:{position:{},rotation:{}}}),d=Object(x.b)({key:"enemyPosition",default:[{x:-10,y:10,z:-80},{x:20,y:0,z:-100},{x:30,y:0,z:-60},{x:50,y:0,z:-20}]}),p=Object(x.b)({key:"laserPositions",default:[]}),m=Object(x.b)({key:"score",default:0}),y=function(){var e=Object(c.useRef)(null),t=Object(x.d)(f),n=Object(O.a)(t,2),i=n[0],a=n[1],o=Object(s.d)(h.a,"./models/arwing.glb").nodes;return Object(s.c)((function(e){var t=e.mouse;a({position:{x:6*t.x,y:2*t.y},rotation:{z:.5*-t.x,x:.5*-t.x,y:.2*-t.y}})})),Object(s.c)((function(){e.current.rotation.z=i.rotation.z,e.current.rotation.y=i.rotation.x,e.current.rotation.x=i.rotation.y,e.current.position.y=i.position.y,e.current.position.x=i.position.x})),Object(r.jsx)("group",{ref:e,children:Object(r.jsx)("mesh",{visible:!0,geometry:o.Default.geometry,children:Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"white",roughness:.3,metalness:.3})})})};n(55);var g=function(){var e=Object(x.e)(p);return Object(r.jsx)("group",{children:e.map((function(e){return Object(r.jsxs)("mesh",{position:[e.x,e.y,e.z],children:[Object(r.jsx)("sphereBufferGeometry",{attach:"geometry",args:[.25,16,16]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",emissive:new u.Color("white"),wireframe:!0})]},"".concat(e.id))}))})},v=n(14);var z=function(){var e=Object(x.e)(f),t=Object(x.d)(p),n=Object(O.a)(t,2),c=n[0],i=n[1];return Object(r.jsxs)("mesh",{position:[0,0,-8],onClick:function(){return i([].concat(Object(v.a)(c),[{id:Math.random(),x:0,y:0,z:0,velocity:[6*e.rotation.x,5*e.rotation.y]}]))},children:[Object(r.jsx)("planeBufferGeometry",{attach:"geometry",args:[100,100]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"orange",emissive:new u.Color("#ff0860"),visible:!1})]})};var w=function(){var e=Object(x.e)(d);return Object(r.jsx)("group",{children:e.map((function(e){return Object(r.jsxs)("mesh",{position:[e.x,e.y,e.z],children:[Object(r.jsx)("sphereBufferGeometry",{attach:"geometry",args:[2,8,8]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"white",wireframe:!0})]},"".concat(e.x))}))})};var M=function(){var e=Object(x.d)(d),t=Object(O.a)(e,2),n=t[0],r=t[1],c=Object(x.d)(p),i=Object(O.a)(c,2),a=i[0],o=i[1],j=Object(x.d)(m),u=Object(O.a)(j,2),l=u[0],b=u[1];return Object(s.c)((function(e){e.mouse;var t=n?n.map((function(e){return a.filter((function(t){return a.filter((function(t){return function(e,t){var n=t.x-e.x,r=t.y-e.y,c=t.z-e.z;return Math.sqrt(n*n+r*r+c*c)}(t,e)<3})).length>0})).length>0})):[];t.includes(!0)&&n.length>0&&(b(l+t.filter((function(e){return e})).length),console.log("hit detected")),r(n.map((function(e){return{x:e.x,y:e.y,z:e.z+.1}})).filter((function(e,n){return!t[n]&&e.z<0}))),o(a.map((function(e){return{id:e.id,x:e.x+e.velocity[0],y:e.y+e.velocity[1],z:e.z-1,velocity:e.velocity}})).filter((function(e){return e.z>-100&&e.y>-50})))})),null},k=n(40);function P(){var e=Object(k.a)(["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    z-index: 1000;\n    color: #FFF;\n"]);return P=function(){return e},e}var C=n(41).a.section(P()),S=function(){var e=Object(x.e)(m);return Object(r.jsxs)(C,{children:["Score: ",1e3*e]})},F=n(4),A=n(15),B=function(e){var t=e.children,n=Object(A.a)(e,["children"]),c=Object(x.c)();return Object(r.jsx)(s.a,Object(F.a)(Object(F.a)({},n),{},{children:Object(r.jsx)(c,{children:t})}))};var I=function(){var e=Object(s.e)().scene,t=(new u.CubeTextureLoader).load(["./env/space/1.jpg","./env/space/2.jpg","./env/space/3.jpg","./env/space/4.jpg","./env/space/5.jpg","./env/space/6.jpg"]);return e.background=t,null};function L(){return Object(r.jsxs)(x.a,{children:[Object(r.jsx)(S,{}),Object(r.jsxs)(B,{style:{background:"#171717"},children:[Object(r.jsx)(j,{}),Object(r.jsx)("directionalLight",{intensity:.5}),Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(b,{}),children:Object(r.jsx)(y,{})}),Object(r.jsx)(l,{}),Object(r.jsx)(g,{}),Object(r.jsx)(I,{}),Object(r.jsx)(z,{}),Object(r.jsx)(w,{}),Object(r.jsx)(M,{})]})]})}var G=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,59)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,a=t.getTTFB;n(e),r(e),c(e),i(e),a(e)}))},R=n(45);Object(s.b)({OrbitControls:R.a}),o.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(L,{})}),document.getElementById("root")),G()}},[[58,1,2]]]);
//# sourceMappingURL=main.61420b28.chunk.js.map