(this["webpackJsonpspace-fighter"]=this["webpackJsonpspace-fighter"]||[]).push([[0],{55:function(e,t,n){},60:function(e,t,n){},69:function(e,t,n){"use strict";n.r(t);var r=n(8),c=n(1),i=n.n(c),s=n(28),a=n.n(s),o=(n(55),n(15)),j=n(16),l=n(0);var u=function(){var e=Object(c.useRef)(null),t=Object(c.useRef)(null),n=Object(o.d)("right");console.log(n);var i=(new l.TextureLoader).load("target.png");return Object(j.b)((function(n){var r=n.mouse;e.current.position.y=10*r.y,e.current.position.x=30*r.x,t.current.position.y=20*r.y,t.current.position.x=60*r.x})),Object(r.jsxs)("group",{children:[Object(r.jsx)("sprite",{position:[0,0,-8],ref:e,children:Object(r.jsx)("spriteMaterial",{attach:"material",map:i})}),Object(r.jsx)("sprite",{position:[0,0,-16],ref:t,children:Object(r.jsx)("spriteMaterial",{attach:"material",map:i})})]})};var b=function(){var e=Object(c.useRef)(null);return Object(r.jsxs)("mesh",{visible:!0,position:[0,-50,0],rotation:[-Math.PI/2,0,0],ref:e,children:[Object(r.jsx)("planeBufferGeometry",{attach:"geometry",args:[5e3,5e3,128,128]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"white",roughness:1,metalness:0,wireframe:!0})]})},O=n(11),h=(n(60),Object(O.b)({key:"shipPosition",default:{position:{},rotation:{}}})),d=(Object(O.b)({key:"playerPosition",default:{position:{},rotation:{}}}),Object(O.b)({key:"enemyPosition",default:[{x:-10,y:10,z:-80},{x:20,y:0,z:-100},{x:30,y:0,z:-60},{x:50,y:0,z:-20}]})),f=Object(O.b)({key:"laserPositions",default:[]}),x=Object(O.b)({key:"score",default:0});var p=function(){var e=Object(O.e)(f);return Object(r.jsx)("group",{children:e.map((function(e){return Object(r.jsxs)("mesh",{position:[e.x,e.y,e.z],children:[Object(r.jsx)("sphereBufferGeometry",{attach:"geometry",args:[.25,16,16]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",emissive:new l.Color("white"),wireframe:!0})]},"".concat(e.id))}))})},m=n(12),y=n(3);var g=function(){var e=Object(O.e)(h),t=Object(O.d)(f),n=Object(y.a)(t,2),c=n[0],i=n[1];return Object(r.jsxs)("mesh",{position:[0,0,-8],onClick:function(){return i([].concat(Object(m.a)(c),[{id:Math.random(),x:0,y:0,z:0,velocity:[6*e.rotation.x,5*e.rotation.y]}]))},children:[Object(r.jsx)("planeBufferGeometry",{attach:"geometry",args:[100,100]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"orange",emissive:new l.Color("#ff0860"),visible:!1})]})};var v=function(){return Object(r.jsxs)("mesh",{visible:!0,position:[0,0,0],rotation:[0,0,0],children:[Object(r.jsx)("sphereGeometry",{attach:"geometry",args:[1,16,16]}),Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"white",transparent:!0,opacity:.6,roughness:1,metalness:0})]})},z=n(33),k=function(e){var t=e.position,n=Object(c.useRef)(null),i=Object(j.c)(z.a,"./models/creepy-face.glb").nodes;return Object(r.jsx)("group",{ref:n,position:[t.x,t.y,t.z],children:Object(r.jsx)("mesh",{visible:!0,geometry:i.Quad_Sphere.geometry,children:Object(r.jsx)("meshStandardMaterial",{attach:"material",color:"white",roughness:.3,metalness:.3})})})};var q=function(){var e=Object(O.e)(d);return Object(r.jsx)("group",{children:e.map((function(e){return Object(r.jsx)(c.Suspense,{fallback:Object(r.jsx)(v,{}),children:Object(r.jsx)(k,{position:e},"".concat(e.x))})}))})};var w=function(){var e=Object(O.d)(d),t=Object(y.a)(e,2),n=t[0],r=t[1],c=Object(O.d)(f),i=Object(y.a)(c,2),s=i[0],a=i[1],o=Object(O.d)(x),l=Object(y.a)(o,2),u=l[0],b=l[1];return Object(j.b)((function(e){e.mouse;var t=n?n.map((function(e){return s.filter((function(t){return s.filter((function(t){return function(e,t){var n=t.x-e.x,r=t.y-e.y,c=t.z-e.z;return Math.sqrt(n*n+r*r+c*c)}(t,e)<3})).length>0})).length>0})):[];t.includes(!0)&&n.length>0&&(b(u+t.filter((function(e){return e})).length),console.log("hit detected")),r(n.map((function(e){return{x:e.x,y:e.y,z:e.z}})).filter((function(e,n){return!t[n]&&e.z<0}))),a(s.map((function(e){return{id:e.id,x:e.x+e.velocity[0],y:e.y+e.velocity[1],z:e.z-1,velocity:e.velocity}})).filter((function(e){return e.z>-100&&e.y>-50})))})),null},M=n(45);function S(){var e=Object(M.a)(["\n    position: absolute;\n    top: 30px;\n    right: 30px;\n    z-index: 1000;\n    color: #FFF;\n"]);return S=function(){return e},e}var C,F=n(46).a.section(S()),P=function(){var e=Object(O.e)(x);return Object(r.jsxs)(F,{children:["Score: ",1e3*e]})},B=n(4),G=n(17),L=function(e){var t=e.children,n=Object(G.a)(e,["children"]),c=Object(O.c)();return Object(r.jsx)(o.c,Object(B.a)(Object(B.a)({},n),{},{children:Object(r.jsx)(c,{children:t})}))},R=n(50),I=n.n(R)()("ControllerEvents");!function(e){e.select="select",e.selectstart="selectstart",e.selectend="selectend",e.squeeze="squeeze",e.squeezestart="squeezestart",e.squeezeend="squeezeend"}(C||(C={}));var T=function(){var e=Object(c.useCallback)((function(){var e;I.extend;(e=console).log.apply(e,arguments)}),[]);return Object(o.e)(C.select,e),Object(o.e)(C.selectstart,e),Object(o.e)(C.selectend,e),Object(o.e)(C.squeeze,e),Object(o.e)(C.squeezestart,e),Object(o.e)(C.squeezeend,e),Object(o.e)(C.squeezeend,e),null};function E(){return Object(r.jsxs)(O.a,{children:[Object(r.jsx)(P,{}),Object(r.jsxs)(L,{style:{background:"#171717"},children:[Object(r.jsx)(o.a,{}),Object(r.jsx)(o.b,{}),Object(r.jsx)("directionalLight",{intensity:.5}),Object(r.jsx)(u,{}),Object(r.jsx)(T,{}),Object(r.jsx)(b,{}),Object(r.jsx)(p,{}),Object(r.jsx)(g,{}),Object(r.jsx)(q,{}),Object(r.jsx)(w,{})]})]})}var J=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,70)).then((function(t){var n=t.getCLS,r=t.getFID,c=t.getFCP,i=t.getLCP,s=t.getTTFB;n(e),r(e),c(e),i(e),s(e)}))};a.a.render(Object(r.jsx)(i.a.StrictMode,{children:Object(r.jsx)(E,{})}),document.getElementById("root")),J()}},[[69,1,2]]]);
//# sourceMappingURL=main.d2d50046.chunk.js.map